---
import BaseLayout from './BaseLayout.astro';

interface Props {
  title: string;
  description: string;
  date: Date;
  tags: string[];
}

const { title, description, date, tags } = Astro.props;

const formattedDate = date.toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric',
});
---

<BaseLayout title={title} description={description}>
  <article>
    <header class="mb-8">
      <h1 class="font-heading text-3xl font-bold mb-2">{title}</h1>
      <p class="text-lg text-[var(--color-text-light)] mb-3">{description}</p>
      <div class="flex flex-wrap items-center gap-3 text-sm text-[var(--color-text-light)]">
        <time datetime={date.toISOString()}>{formattedDate}</time>
        {tags.length > 0 && (
          <div class="flex flex-wrap gap-1.5">
            {tags.map((tag) => (
              <a
                href={`/tags/${tag.toLowerCase()}.html`}
                class="inline-block px-2 py-0.5 bg-[var(--color-brand-light)] text-[var(--color-brand)] rounded text-xs no-underline hover:bg-[var(--color-brand)] hover:text-white transition-colors"
              >
                {tag}
              </a>
            ))}
          </div>
        )}
      </div>
    </header>

    <div class="prose prose-lg max-w-none
      prose-headings:font-heading prose-headings:font-semibold
      prose-a:text-[var(--color-brand)] prose-a:no-underline hover:prose-a:underline
      prose-code:before:content-none prose-code:after:content-none
      prose-code:bg-gray-100 prose-code:px-1.5 prose-code:py-0.5 prose-code:rounded prose-code:text-sm
      prose-pre:bg-gray-900 prose-pre:rounded-lg
      prose-img:rounded-lg prose-img:shadow-md">
      <slot />
    </div>
  </article>
</BaseLayout>
